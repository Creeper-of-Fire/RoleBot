# config_data.py

# ===================================================================
# 身份组管理模块 (`role_manager`) 的专属配置
# ===================================================================

# 所有的服务器配置，键是服务器ID (int)
GUILD_CONFIGS = {
    # --- 第一个服务器示例 ---
    1111111111111111111: {  # 替换成你的第一个服务器ID
        "daily_limit_hours": 2,
        "timed_roles": [
            1000000000000000001,
            1000000000000000002,
            1000000000000000003,
            1000000000000000004,
            1000000000000000005,
            1000000000000000006,
            1000000000000000007,
            1000000000000000008,
        ],
        "self_service_roles": [
            2000000000000000001,  # 示例：@everyone 权限身份组
            2000000000000000002,  # 示例：获取重要公告通知
            2000000000000000003,  # 示例：获取所有公告通知
            2000000000000000004,  # 示例：获取投票通知
        ]
    },

    # --- 第二个服务器示例 ---
    2222222222222222222: {  # 替换成你的第二个服务器ID
        "daily_limit_hours": 48,
        "timed_roles": [
            3000000000000000001,
            3000000000000000002,
            3000000000000000003,
            3000000000000000004,
            3000000000000000005,
            3000000000000000006,
            3000000000000000007,
            3000000000000000008,
            3000000000000000009,
            3000000000000000010,
        ],
        "self_service_roles": [
            4000000000000000001,
            4000000000000000002,
            4000000000000000003,
            4000000000000000004,
        ]
    },
    # 你可以继续添加更多服务器的配置...
}

# ===================================================================
# 幻化系统配置 (支持一对多)
# ===================================================================
FASHION_CONFIG = {
    # --- 第一个服务器示例 ---
    1111111111111111111: {
        # "幻化" 映射: { 基础身份组ID: [幻化身份组ID列表] }
        # 用户必须拥有 "基础身份组" 才能选择佩戴对应的 "幻化身份组"
        # 重要：在服务器设置中，"幻化身份组" 的层级必须高于 "基础身份组" 才能覆盖颜色！
        "fashion_map": {
            # 示例: 拥有 "贡献者" 身份组，就可以幻化为 "流光贡献者" 或 "暗影贡献者"
            5000000000000000001: [  # 基础身份组: 贡献者
                5100000000000000001,  # 幻化身份组: 流光贡献者
                5100000000000000002,  # 幻化身份组: 暗影贡献者
            ],
            5000000000000000002: [  # 基础身份组: 核心成员
                5200000000000000001,  # 幻化身份组: 核心成员-样式A
                5200000000000000002,  # 幻化身份组: 核心成员-样式B
            ],
            5000000000000000003: [  # 基础身份组: Server Booster
                5300000000000000001,  # 幻化身份组: 助力者-特效
            ],
            5000000000000000004: [  # 基础身份组: 机器人管理员
                5400000000000000001,  # 幻化身份组: 机器人管理员-特效
            ]
        }
    },
    # --- 第二个服务器示例 ---
    2222222222222222222: {
        "fashion_map": {
            # 示例
            6000000000000000001: [
                6100000000000000001,
                6100000000000000002,
                6100000000000000003,
            ],
            6000000000000000002: [
                6200000000000000001,
                6200000000000000002,
                6200000000000000003,
            ]
        }
    }
}

# 非普通身份组（如特定稀有身份组、服务器助力身份组）
# 这些身份组在某些逻辑中可能会被特殊处理
FASHION_NOT_NORMAL_ROLE_IDS = [
    5000000000000000003,  # 示例: Server Booster
    5000000000000000004,  # 示例: 机器人管理员
]

# ===================================================================
# 身份组同步配置 (Role Sync Config)
# ===================================================================
# 定义了各种自动和手动的身份组同步规则。
#
# 格式:
# {
#     GUILD_ID: {
#         # 实时同步 (获得A -> 获得B)
#         # 当用户获得 source 身份组时，会自动获得 target 身份组。
#         "direct_sync_pairs": [
#             {"source": SOURCE_ROLE_ID_A, "target": TARGET_ROLE_ID_B},
#         ],
#         # 每日同步 (有C -> 发D)
#         # 机器人每天会检查所有拥有 source 身份组的用户，并为他们添加 target 身份组。
#         "daily_sync_pairs": [
#             {"source": SOURCE_ROLE_ID_C, "target": TARGET_ROLE_ID_D},
#         ]
#     },
# }
# ===================================================================
ROLE_SYNC_CONFIG = {
    # --- 第一个服务器示例 ---
    1111111111111111111: {  # 替换为你的服务器ID
        "direct_sync_pairs": [
            # 示例: 社区建设者 -> 幻化-社区建设者 (给予基础身份组时，自动给予默认幻化)
            {"source": 7000000000000000001, "target": 7100000000000000001},
            {"source": 7000000000000000002, "target": 7100000000000000002},
            {"source": 7000000000000000003, "target": 7100000000000000003},
        ],
        "daily_sync_pairs": [  # 这个选项在每日同步时，可以选择性地发送一条私信
            # 示例: Server Booster -> Server Boosted
            {"source": 8000000000000000001, "target": 8100000000000000001},
        ]
    }
}

HONOR_CONFIG = {
    # 第一个服务器示例
    1111111111111111111: {
        # --- 荣誉定义区 ---
        # 这是本服务器所有荣誉的“真理之源”。
        # 机器人启动时会根据此列表同步数据库。
        "definitions": [
            {
                "uuid": "aaaaaaaa-aaaa-4aaa-aaaa-aaaaaaaaaaaa",  # 必须是唯一的UUID字符串
                "name": "夏日活动参与者",
                "description": "参与了2025年夏季活动！",
                "role_id": 9000000000000000001,  # 对应的身份组ID
                "hidden_until_earned": False, # 是否在获得前对用户隐藏
                "icon_url": None  # 可以设置一个图标URL
            },
            {
                "uuid": "bbbbbbbb-bbbb-4bbb-bbbb-bbbbbbbbbbbb",
                "name": "一周年纪念",
                "description": "纪念服务器建立一周年！",
                "role_id": 9000000000000000002,
                "hidden_until_earned": True,
                "icon_url": None
            },
            {
                "uuid": "cccccccc-cccc-4ccc-cccc-cccccccccccc",
                "name": "发帖达人",
                "description": "在指定版区累计发布100篇帖子！",
                "role_id": 9000000000000000003,
                "hidden_until_earned": False,
                "icon_url": None
            }
        ],

        # --- 可自助领取头衔配置 ---
        "claimable_honors": [
            "aaaaaaaa-aaaa-4aaa-aaaa-aaaaaaaaaaaa"  # 对应"夏日活动参与者"的UUID
        ],

        # --- 周年纪念荣誉配置 --
        "anniversary_honor": {
            "enabled": True,
            "tiers": [
                {  # 一周年纪念荣誉
                    "honor_uuid": "bbbbbbbb-bbbb-4bbb-bbbb-bbbbbbbbbbbb",
                    "cutoff_date": "2024-01-01 00:00:00",  # UTC+8, 在此日期前加入的用户可获得
                },
                # 可以添加更多周年...
            ]
        },

        # --- 特定活动期间发帖荣誉的配置 ---
        "event_honor": {
            "enabled": False,
            "honor_uuid": "aaaaaaaa-aaaa-4aaa-aaaa-aaaaaaaaaaaa", # 对应"夏日活动参与者"
            "start_time": "2025-07-01 00:00:00",  # UTC+8
            "end_time": "2025-08-31 23:59:59",  # UTC+8
            "target_forum_ids": [ # 在这些版区发帖才会计数
                1010101010101010101,
                1010101010101010102,
                1010101010101010103,
            ]
        },

        # --- 里程碑式发帖荣誉的配置 ---
        "milestone_honor": {
            "enabled": False,
            "target_forum_ids": [ # 在这些版区发帖才会计数
                1010101010101010101,
                1010101010101010102,
                1010101010101010103,
                1010101010101010104,
                1010101010101010105,
            ],
            # 里程碑映射到荣誉的UUID
            "milestones": {  # 发帖数 -> 荣誉UUID
                10:   "dddddddd-dddd-4ddd-dddd-dddddddddddd", # 示例: 筑基小生
                100:  "eeeeeeee-eeee-4eee-eeee-eeeeeeeeeeee", # 示例: 金丹长老
                1000: "ffffffff-ffff-4fff-ffff-ffffffffffff"  # 示例: 化神大能
            }
        }
    },
}